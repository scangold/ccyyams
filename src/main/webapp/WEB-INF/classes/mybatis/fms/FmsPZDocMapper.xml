<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="FmsPZDocMapper">
  <resultMap id="BaseResultMap" type="FmsPZDoc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 31 16:05:40 CST 2017.
    -->
    <id column="ACDOC_ID" jdbcType="CHAR" property="acdocId" />
    <result column="AC_VOLUME_ID" jdbcType="CHAR" property="acVolumeId" />
    <result column="ACDOC_YEAR" jdbcType="INTEGER" property="acdocYear" />
    <result column="ACDOC_MONTH" jdbcType="INTEGER" property="acdocMonth" />
    <result column="ACDOC_NUM" jdbcType="NVARCHAR" property="acdocNum" />
    <result column="ACDOC_REMARK" jdbcType="NVARCHAR" property="acdocRemark" />
    <result column="ACDOC_VALID" jdbcType="INTEGER" property="acdocValid" />
    <result column="DESTROIED" jdbcType="NVARCHAR" property="destroied" />
    <result column="DESTROY_ID" jdbcType="CHAR" property="destroyId" />
    <result column="DESTROY_HOW" jdbcType="NVARCHAR" property="destroyHow" />
    <result column="DESTROY_CHECK" jdbcType="NVARCHAR" property="destroyCheck" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 31 16:05:40 CST 2017.
    -->
    ACDOC_ID, AC_VOLUME_ID, ACDOC_YEAR, ACDOC_MONTH, ACDOC_NUM, ACDOC_REMARK, ACDOC_VALID, 
    DESTROIED, DESTROY_ID, DESTROY_HOW, DESTROY_CHECK
  </sql>
  <insert id="insertpzdoc" parameterType="pd">
    insert into fms_pzdoc (acdoc_id, ac_volume_id, acdoc_year, 
      acdoc_month, acdoc_num, acdoc_remark, 
      acdoc_valid, destroied, destroy_id, 
      destroy_how, destroy_check)
    values (#{acdoc_id,jdbcType=CHAR}, #{ac_volume_id,jdbcType=CHAR}, #{acdoc_year,jdbcType=INTEGER}, 
      #{acdoc_month,jdbcType=INTEGER}, #{acdoc_num,jdbcType=NVARCHAR}, #{acdoc_remark,jdbcType=NVARCHAR}, 
      #{acdoc_valid,jdbcType=INTEGER}, #{destroied,jdbcType=NVARCHAR}, #{destroy_id,jdbcType=CHAR}, 
      #{destroy_how,jdbcType=NVARCHAR}, #{destroy_check,jdbcType=NVARCHAR})
  </insert>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 31 16:05:40 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from fms_pzdoc
    where ACDOC_ID = #{acdocId,jdbcType=CHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 31 16:05:40 CST 2017.
    -->
    delete from fms_pzdoc
    where ACDOC_ID = #{acdocId,jdbcType=CHAR}
  </delete>
  <insert id="insert" parameterType="FmsPZDoc">
    insert into fms_pzdoc (ACDOC_ID, AC_VOLUME_ID, ACDOC_YEAR, 
      ACDOC_MONTH, ACDOC_NUM, ACDOC_REMARK, 
      ACDOC_VALID, DESTROIED, DESTROY_ID, 
      DESTROY_HOW, DESTROY_CHECK)
    values (#{acdocId,jdbcType=CHAR}, #{acVolumeId,jdbcType=CHAR}, #{acdocYear,jdbcType=INTEGER}, 
      #{acdocMonth,jdbcType=INTEGER}, #{acdocNum,jdbcType=NVARCHAR}, #{acdocRemark,jdbcType=NVARCHAR}, 
      #{acdocValid,jdbcType=INTEGER}, #{destroied,jdbcType=NVARCHAR}, #{destroyId,jdbcType=CHAR}, 
      #{destroyHow,jdbcType=NVARCHAR}, #{destroyCheck,jdbcType=NVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="FmsPZDoc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 31 16:05:40 CST 2017.
    -->
    insert into fms_pzdoc
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="acdocId != null">
        ACDOC_ID,
      </if>
      <if test="acVolumeId != null">
        AC_VOLUME_ID,
      </if>
      <if test="acdocYear != null">
        ACDOC_YEAR,
      </if>
      <if test="acdocMonth != null">
        ACDOC_MONTH,
      </if>
      <if test="acdocNum != null">
        ACDOC_NUM,
      </if>
      <if test="acdocRemark != null">
        ACDOC_REMARK,
      </if>
      <if test="acdocValid != null">
        ACDOC_VALID,
      </if>
      <if test="destroied != null">
        DESTROIED,
      </if>
      <if test="destroyId != null">
        DESTROY_ID,
      </if>
      <if test="destroyHow != null">
        DESTROY_HOW,
      </if>
      <if test="destroyCheck != null">
        DESTROY_CHECK,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="acdocId != null">
        #{acdocId,jdbcType=CHAR},
      </if>
      <if test="acVolumeId != null">
        #{acVolumeId,jdbcType=CHAR},
      </if>
      <if test="acdocYear != null">
        #{acdocYear,jdbcType=INTEGER},
      </if>
      <if test="acdocMonth != null">
        #{acdocMonth,jdbcType=INTEGER},
      </if>
      <if test="acdocNum != null">
        #{acdocNum,jdbcType=NVARCHAR},
      </if>
      <if test="acdocRemark != null">
        #{acdocRemark,jdbcType=NVARCHAR},
      </if>
      <if test="acdocValid != null">
        #{acdocValid,jdbcType=INTEGER},
      </if>
      <if test="destroied != null">
        #{destroied,jdbcType=NVARCHAR},
      </if>
      <if test="destroyId != null">
        #{destroyId,jdbcType=CHAR},
      </if>
      <if test="destroyHow != null">
        #{destroyHow,jdbcType=NVARCHAR},
      </if>
      <if test="destroyCheck != null">
        #{destroyCheck,jdbcType=NVARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="FmsPZDoc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 31 16:05:40 CST 2017.
    -->
    update fms_pzdoc
    <set>
      <if test="acVolumeId != null">
        AC_VOLUME_ID = #{acVolumeId,jdbcType=CHAR},
      </if>
      <if test="acdocYear != null">
        ACDOC_YEAR = #{acdocYear,jdbcType=INTEGER},
      </if>
      <if test="acdocMonth != null">
        ACDOC_MONTH = #{acdocMonth,jdbcType=INTEGER},
      </if>
      <if test="acdocNum != null">
        ACDOC_NUM = #{acdocNum,jdbcType=NVARCHAR},
      </if>
      <if test="acdocRemark != null">
        ACDOC_REMARK = #{acdocRemark,jdbcType=NVARCHAR},
      </if>
      <if test="acdocValid != null">
        ACDOC_VALID = #{acdocValid,jdbcType=INTEGER},
      </if>
      <if test="destroied != null">
        DESTROIED = #{destroied,jdbcType=NVARCHAR},
      </if>
      <if test="destroyId != null">
        DESTROY_ID = #{destroyId,jdbcType=CHAR},
      </if>
      <if test="destroyHow != null">
        DESTROY_HOW = #{destroyHow,jdbcType=NVARCHAR},
      </if>
      <if test="destroyCheck != null">
        DESTROY_CHECK = #{destroyCheck,jdbcType=NVARCHAR},
      </if>
    </set>
    where ACDOC_ID = #{acdocId,jdbcType=CHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="FmsPZDoc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 31 16:05:40 CST 2017.
    -->
    update fms_pzdoc
    set AC_VOLUME_ID = #{acVolumeId,jdbcType=CHAR},
      ACDOC_YEAR = #{acdocYear,jdbcType=INTEGER},
      ACDOC_MONTH = #{acdocMonth,jdbcType=INTEGER},
      ACDOC_NUM = #{acdocNum,jdbcType=NVARCHAR},
      ACDOC_REMARK = #{acdocRemark,jdbcType=NVARCHAR},
      ACDOC_VALID = #{acdocValid,jdbcType=INTEGER},
      DESTROIED = #{destroied,jdbcType=NVARCHAR},
      DESTROY_ID = #{destroyId,jdbcType=CHAR},
      DESTROY_HOW = #{destroyHow,jdbcType=NVARCHAR},
      DESTROY_CHECK = #{destroyCheck,jdbcType=NVARCHAR}
    where ACDOC_ID = #{acdocId,jdbcType=CHAR}
  </update>
  	<select id="selectByacdocId" parameterType="pd" resultType="pd">
select  b.ac_box_id,a.ac_volume_id,c.acdoc_id,b.acdoc_box,a.acdoc_volume,c.acdoc_num,c.acdoc_year,c.acdoc_month,b.acdoc_room,b.acdoc_case,c.acdoc_valid,c.destroied,c.acdoc_remark,b.user_id
from  fms_pzdocvolume a
inner join fms_pzdocbox  b on a.ac_box_id = b.ac_box_id
inner join fms_pzdoc c  on a.ac_volume_id = c.ac_volume_id
		where acdoc_id = #{acdocId,jdbcType=CHAR}
	</select>
	<update id="updateByPzdoc" parameterType="pd">
    update fms_pzdoc
    set acdoc_year = #{acdoc_year,jdbcType=INTEGER},
      acdoc_month = #{acdoc_month,jdbcType=INTEGER},
      acdoc_num = #{acdoc_num,jdbcType=NVARCHAR},
      acdoc_valid=#{acdoc_valid,jdbcType=INTEGER},
      acdoc_remark = #{acdoc_remark,jdbcType=NVARCHAR}
    where acdoc_id = #{acdoc_id,jdbcType=CHAR}
  </update>
  	<update id="deleteByPzdoc" parameterType="pd">
    update fms_pzdoc
    set
      destroy_id = #{destroy_id,jdbcType=CHAR},
      destroy_how = #{destroy_how,jdbcType=NVARCHAR},
      destroied = #{destroied,jdbcType=NVARCHAR},
      destroy_check = #{destroy_check,jdbcType=NVARCHAR}
    where acdoc_id = #{acdoc_id,jdbcType=CHAR}
  </update>
    	<update id="deleteByPzdocvolume" parameterType="pd">
    update fms_pzdoc
    set
      destroy_id = #{destroy_id,jdbcType=CHAR},
      destroy_how = #{destroy_how,jdbcType=NVARCHAR},
      destroied = #{destroied,jdbcType=NVARCHAR},
      destroy_check = #{destroy_check,jdbcType=NVARCHAR}
    where ac_volume_id = #{ac_volume_id,jdbcType=CHAR}
  </update>
    <select id="selectyear" parameterType="pd" resultType="pd">
SELECT acdoc_year,COUNT(*) as a FROM fms_pzdoc
GROUP BY acdoc_year
	</select>
	
    <select id="getCountByyear" resultType="pd">
		select count(1) as count ,ACDOC_YEAR from  fms_pzdoc  group by ACDOC_YEAR, ACDOC_YEAR ORDER by ACDOC_YEAR 
	</select>
</mapper>